# base image
FROM ubuntu

# Create a directory /app
WORKDIR /app

# install mysql
RUN apt update && apt install -y mysql-server mysql-client dos2unix openssh-client

# Copy scripts into /app
COPY predDB.sh config.sh DSA3101-2310-04-lib.pem .

# Convert line endings to Unix style
RUN dos2unix /app/predDB.sh

# Grant execute permissions to the script
RUN chmod +x /app/predDB.sh
RUN chmod 600 /app/DSA3101-2310-04-lib.pem

# Entry point for the container
ENTRYPOINT ["./predDB.sh"]